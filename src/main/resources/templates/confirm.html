<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Set Password</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
	
	<style>
		body {
			background: #ee9ca7;  /* fallback for old browsers */
			background: -webkit-linear-gradient(to right, #ffdde1, #ee9ca7);  /* Chrome 10-25, Safari 5.1-6 */
			background: linear-gradient(to right, #ffdde1, #ee9ca7); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
						
		}
		a {
			text-decoration: none;
		}
		.card-header,.card-footer {
			background-color: #ffdde1;
			border: none;
		}
		.card {
			border: none;
		}
	</style>
</head>
<body>

	<div class="container">
		<div class="row justify-content-center" style="height: 100vh">
			<div class="col-md-6 col-lg-6 col-sm-8 col-xs-8 align-self-center pb-5 mb-5">
				<div class="shadow-lg card">
				  <div class="card-header text-center"><h3>Set your Password</h3></div>
				  <div class="card-body">
				  	<div th:if="${invalidToken}" class="alert alert-warning alert-dismissible fade show" role="alert">
						[[${invalidToken}]]
					    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				    </div>
				    <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
						[[${successMessage}]]
						<a class="text-primary" th:href="@{/login}">Click Here</a>
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				  	<form th:if="!${invalidToken} and !${successMessage}" id="passwordForm" role="form" th:object="${setPassword}" th:action="@{/confirm}" method="post">
				  	  <input type="hidden" name="token" th:value=${confirmationToken}>
					  <div class="mb-3">
					    <label for="exampleInputPassword1" class="form-label">Password</label>
					    <input type="password" name="password" class="form-control" id="password" required>
					  </div>
					  <div class="mb-3">
					    <label for="exampleInputPassword1" class="form-label">Confirm Password</label>
					    <input type="password" id="signup-password-confirm" name="ConfirmPassword" class="form-control" required>
					  </div>
					  
					  <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
						[[${successMessage}]]
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					  </div>
					  <div th:if="${errorMessage}" class="alert alert-warning alert-dismissible fade show" role="alert">
						[[${errorMessage}]]
					    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					  </div>
					  <div th:if="${invalidToken}" class="alert alert-warning alert-dismissible fade show" role="alert">
						[[${invalidToken}]]
					    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					  </div>
					  
					  <button type="submit" class="btn btn-primary">Save</button>
					</form>
				  </div>
				</div>
			</div>
		</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>